<h2>Connexion Ã  l'application</h2>
<form [formGroup]="form" (ngSubmit)="handleSubmit()">
  <div class="form-group">
    <input
      type="email"
      class="form-control"
      placeholder="Email"
      formControlName="username"
      [class.is-invalid]="
        form.get('username').touched && form.get('username').invalid
      "
    />
    <div class="invalid-feedback" *ngIf="form.get('username').invalid">
      <div *ngIf="form.get('username').hasError('required')">
        Email obligatoire
      </div>
      <div *ngIf="form.get('username').hasError('email')">
        Email invalide
      </div>
    </div>
  </div>

  <div class="form-group">
    <input
      type="password"
      class="form-control"
      placeholder="Mot de passe"
      formControlName="password"
      [class.is-invalid]="
        form.get('password').touched && form.get('password').invalid
      "
    />
    <div class="invalid-feedback" *ngIf="form.get('password').invalid">
      Le mot de passe est obligatoire
    </div>
  </div>

  <button type="submit" class="btn btn-success">Connexion</button>
</form>

<div class="alert alert-danger" *ngIf="errorMessage">{{ errorMessage }}</div>
